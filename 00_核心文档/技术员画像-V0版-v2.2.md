# DCC2026 技术员画像-V0版 v2.2

**更新日期**：2026-02-12  
**版本**：v2.2（v2.1→v2.2：强化V0可落地性）  
**适用范围**：V0开发期（2-3个月）  
**核心定位**：AI增强型 + 质量管控 + 可测试/可审计工程师

------

## 对齐事实源（SSOT）

本画像严格对齐以下SSOT文档：

| SSOT文档 | 文件路径 | 版本/更新日期 | 关键约束章节 | 说明 |
|----------|---------|--------------|-------------|------|
| **项目进度追踪器** | `00_核心文档/项目进度追踪器-v2.4.md` | v2.4 / 2026-02-10 | 第3.1节"V0技术栈" | V0已锁定：FastAPI/React+AntD/SQLite |
| **项目进度追踪器** | 同上 | v2.4 / 2026-02-10 | 第3.2节"V0范围边界" | V0不做：partner_id/海报/小程序/公众号 |
| **Skill格式规范** | `05_开发文档/Skill格式规范-v1.1.md` | v1.1 / 2026-02-12 | 第2章"通用元数据"<br>第3章"产品Skill" | Skill定义标准、热更新机制 |
| **13字段SSOT** | `待补充` | 待确认 | 待确认 | **⚠️ 单位口径冲突待解决** |

### 验收标准
新人入职后10分钟内能：
1. 找到上述4个文件
2. 定位到关键约束章节
3. 理解V0边界

**新人自查清单**：
- [ ] 能打开《项目进度追踪器v2.4》第3.1节
- [ ] 能打开《Skill格式规范v1.1》第2-3章
- [ ] 知道13字段SSOT在哪（待团队补充路径）

### ⚠️ 字段单位口径决策（V0强制）

**现状**：
- SSOT定义：13字段单位为「万元」
- 代码示例/培训文档：部分使用「元」（150000元 vs 15万元）
- 风险：混用会导致1万倍计算错误

**V0决策（必须在2026-02-20前确定）**：

**方案A（推荐）**：统一改为「元」
- 理由：代码直观（150000元 vs 15万元），减少小数
- 成本：修改SSOT文档（走变更流程）
- 影响：所有Skill/代码/培训材料统一改为「元」

**方案B（备选）**：统一改为「万元」
- 理由：对齐SSOT，减少变更
- 成本：修改所有代码示例、培训材料
- 影响：代码中需要注意小数精度（15.5万元）

**V0过渡执行规则（在决策前）**：
```python
# 输入层：明确标注单位
class CustomerInputDTO:
    monthly_revenue: float  # 单位：万元（用户输入）
    annual_tax: float       # 单位：万元（用户输入）

# 内部引擎：统一用「元」（临时决定）
class Customer:
    monthly_revenue: float  # 单位：元（引擎内部）
    annual_tax: float       # 单位：元（引擎内部）

# 转换器（V0临时方案）
def normalize_input(dto: CustomerInputDTO) -> Customer:
    """输入层转换：万元→元"""
    return Customer(
        monthly_revenue=dto.monthly_revenue * 10000,  # 万元→元
        annual_tax=dto.annual_tax * 10000
    )
```

**强制测试用例（V0必须）**：
```python
def test_unit_trap_10000x_error():
    """单位陷阱测试：防止1万倍错误"""
    # 输入：10万元（用户以「万元」输入）
    dto = CustomerInputDTO(monthly_revenue=10)  # 10万元
    
    # 转换后：100000元
    customer = normalize_input(dto)
    assert customer.monthly_revenue == 100000  # 元
    
    # Skill阈值：100000元
    skill = load_skill("PRODUCT_XXX")
    assert skill.eligibility.conditions[0].value == 100000  # 元
    
    # 判断结果：应该通过（100000 >= 100000）
    assert check_eligibility(customer, skill) == True

def test_unit_consistency_across_skills():
    """单位一致性测试：所有Skill阈值单位统一"""
    skills = load_all_skills()
    for skill in skills:
        for condition in skill.eligibility.conditions:
            if condition.field in ["monthly_revenue", "annual_tax"]:
                # 所有金额类阈值必须 >= 1000（说明用的是「元」而非「万元」）
                assert condition.value >= 1000, f"Skill {skill.skill_id} 可能用了「万元」单位"
```

**技术员要求（V0硬性）**：
- ✅ 代码中所有金额字段必须有单位注释
- ✅ Skill YAML中description必须写明单位（如「月均流水≥10万元」）
- ✅ 面试必问：「如果SSOT是万元，代码是元，你会怎么处理？」
- ✅ 能写出上述2个测试用例

**决策后行动**：
- 决策后1周内：统一修改所有文档/代码/Skill示例
- 决策后2周内：所有测试用例验证通过

------

## 一、核心定位（修正版）

### 不是什么

- ❌ 传统实习生（需要手把手教）
- ❌ 纯AI操作员（只会复制粘贴AI代码）
- ❌ 架构师（追求完美设计）
- ❌ 算法竞赛选手（刷题高手但工程能力弱）

### 而是什么

**"AI辅助下的工程交付者"**：

- ✅ 会用AI快速产出代码
- ✅ **但必须让代码通过质量闸门**（测试/格式/类型/安全）
- ✅ 会写Skill（YAML配置）
- ✅ 会热更新、会回滚、会看审计日志
- ✅ 会在代码出问题时快速定位和修复

**能力公式**：

```
交付质量 = AI产出速度（50%）× 质量管控能力（50%）
```

**关键区别**：

- 传统开发：自己写代码 → 自己测试 → 交付
- AI辅助开发：AI写代码 → **自己验证** → 通过闸门 → 交付

### DCC2026特殊要求（与通用Web开发的区别）

**通用Web开发**：
- 写功能 → 手动测试 → 交付

**DCC2026 V0要求**：
- 写功能 → **通过质量闸门**（测试/格式/安全）→ 交付
- 改Skill → **热更新可验证** → 可追溯可回滚
- 产出必须 **可审计**（审计日志完整）

**核心差异**：
- ❌ 不是「能跑就行」
- ✅ 而是「可验证、可回滚、可追溯的交付」

**为什么？**
因为DCC2026的Skill系统强调：
1. **确定性执行**（相同输入→相同输出）
2. **热更新零停机**（改配置立即生效）
3. **全链路可审计**（操作可追溯）
4. **LLM辅助不自动生效**（建议→人工审核→生效）

------

## 二、技能画像（三层金字塔 - V0对齐版）

### 第1层：必备基础技能（门槛，2周可速成）

| 技能               | 要求等级                           | V0验证方式             | 备注                         |
| ------------------ | ---------------------------------- | ---------------------- | ---------------------------- |
| **Python基础**     | 能看懂、改、写函数/类/装饰器       | 完成FastAPI CRUD       | 不需要精通，够用即可         |
| **JavaScript基础** | 能看懂React组件、改事件、调API     | 完成React表单          | 不需要TypeScript（V0先不用） |
| **Git基础**        | clone、commit、push、PR、简单merge | 完成10次提交+1次PR     | 必须会看diff                 |
| **YAML读写**       | 手写Skill配置                      | 独立写一个产品Skill    | **V0核心能力**               |
| **SQL基础**        | SELECT、INSERT、UPDATE、JOIN       | 完成5道练习题          | SQLite够用                   |
| **命令行基础**     | cd、ls、pip、npm、curl、docker ps  | 完成Terminal Challenge | 会用curl测试API              |
| **英文阅读**       | 看懂技术文档和错误提示             | 读懂FastAPI文档        | 不需要写作                   |
| **测试思维**       | 会写基础测试用例                   | 写3个pytest用例        | **V0硬性要求**               |

**新增硬性要求**：

- ✅ 会写pytest（不会写测试=不合格）
- ✅ 会读审计日志（能追溯操作记录）
- ✅ 会处理一次依赖升级（能看懂changelog）

------

### 第2层：V0核心工具栈（必须对齐项目实际）

#### 2.1 后端栈（已锁定）

| 工具           | V0状态 | 为什么                               | 学习成本 |
| -------------- | ------ | ------------------------------------ | -------- |
| **FastAPI**    | ✅ 必须 | V0已定，自动文档、类型检查           | ⭐⭐       |
| **Pydantic**   | ✅ 必须 | FastAPI内置，数据验证                | ⭐        |
| **SQLAlchemy** | ✅ 必须 | ORM，V0已定                          | ⭐⭐⭐      |
| **Alembic**    | ✅ 必须 | 数据库迁移                           | ⭐⭐       |
| **PyYAML**     | ✅ 必须 | Skill系统核心                        | ⭐        |
| **jsonschema** | ✅ 必须 | Skill验证                            | ⭐        |
| **pytest**     | ✅ 必须 | 测试框架，**质量闸门**               | ⭐⭐       |
| **ruff**       | 🟡 推荐 | lint+format一体化（比black+isort快） | ⭐        |
| **mypy**       | 🟡 可选 | 类型检查（V0可不强制）               | ⭐⭐       |

**关键点**：

- FastAPI、SQLAlchemy、PyYAML是**V0核心三件套**
- pytest是**质量闸门，不可省略**
- ruff推荐但不强制（可先用black+isort）

------

#### 2.2 前端栈（已锁定）

| 工具               | V0状态 | 为什么                    | 替代品                  | 学习成本 |
| ------------------ | ------ | ------------------------- | ----------------------- | -------- |
| **React 18/19**    | ✅ 必须 | V0已定                    | Vue（不选）             | ⭐⭐⭐      |
| **Vite 6**         | ✅ 必须 | 快速开发服务器（替代CRA） | Webpack（太慢）         | ⭐        |
| **Ant Design 5**   | ✅ 必须 | V0已定，企业级组件库      | MUI、shadcn（V1再考虑） | ⭐⭐       |
| **axios**          | ✅ 必须 | HTTP客户端                | fetch（原生但麻烦）     | ⭐        |
| **React Router 6** | ✅ 必须 | 路由管理                  |                         | ⭐⭐       |
| **ahooks**         | 🟡 推荐 | React Hooks工具库         | 自己写（费时间）        | ⭐        |

**明确排除**（V0不用，V1+再考虑）：

- ❌ Next.js 14/15（V0不需要SSR）
- ❌ TailwindCSS（已定Ant Design）
- ❌ shadcn/ui（已定Ant Design）
- ❌ TypeScript（V0先不引入，降低复杂度）

**关键点**：

- React + Ant Design是**V0硬性规定**
- Vite 6是**2025-2026标准**（不用Create React App）
- 不引入额外CSS框架（Ant Design自带样式）

------

#### 2.3 数据库与存储（已锁定）

| 工具           | V0状态 | V1状态 | 为什么         |
| -------------- | ------ | ------ | -------------- |
| **SQLite**     | ✅ 必须 | ❌ 淘汰 | V0零配置、够用 |
| **PostgreSQL** | ❌ 不用 | ✅ 升级 | V1生产环境     |
| **Redis**      | ❌ 不用 | 🟡 可选 | V1缓存/队列    |

**关键点**：

- V0只用SQLite（不折腾）
- 数据模型设计要考虑后续迁移到PostgreSQL

------

#### 2.4 AI集成（精简）

| 工具              | V0状态 | 用途                  | 成本     |
| ----------------- | ------ | --------------------- | -------- |
| **Anthropic API** | ✅ 必须 | LLM辅助（V2内容生成） | 按量付费 |
| **LangChain**     | ❌ 不用 | 太重，V0直接调API     | -        |

**关键点**：

- V0/V1直接调Anthropic API（不用LangChain）
- V2内容自动化才深度集成

------

#### 2.5 开发工具链（现代化但不强制）

| 工具           | V0状态 | 说明                         |
| -------------- | ------ | ---------------------------- |
| **Poetry**     | ✅ 推荐 | 依赖管理（比pip好）          |
| **uv**         | 🟡 可选 | Python包管理加速器（2026新） |
| **ruff**       | 🟡 推荐 | lint+format一体化            |
| **pre-commit** | 🟡 推荐 | Git hooks，防止提交坏代码    |

**关键点**：

- 工具链现代化但不强制（避免学习成本爆炸）
- 优先级：先把功能做出来 > 工具先进性

------

#### 2.6 工具链现代化（可选升级，不强制）

**背景**：
- 2025-2026年Python生态出现了一些更快的工具
- 但V0阶段不强制使用，避免学习成本爆炸

**可选工具**（了解即可，不作为门槛）：

| 工具 | 用途 | 替代对象 | 优势 | V0推荐度 |
|------|------|---------|------|---------|
| **uv** | Python包管理 | pip/poetry | 速度快10-100倍 | 🟡 可选 |
| **ruff** | lint+format | black+isort+flake8 | 一体化、速度快 | 🟢 推荐 |

**使用建议**：
- V0可以继续用pip/poetry（稳定优先）
- 若安装依赖太慢，可尝试uv加速
- ruff推荐使用（配置简单、一条命令搞定）

**不推荐的做法**：
- ❌ 在V0阶段频繁切换工具（容易出问题）
- ❌ 为了「先进」而强制全员学习新工具

**记住**：工具是手段，交付是目标

------

### 第3层：AI工具熟练度（核心竞争力）

#### 3.1 AI编程助手（必须精通至少一个）

| 工具               | 优势                       | 劣势        | 适合场景       | V0推荐度 |
| ------------------ | -------------------------- | ----------- | -------------- | -------- |
| **Claude Code**    | 理解项目上下文、可执行命令 | 需要API key | 复杂功能、重构 | ⭐⭐⭐⭐⭐    |
| **Cursor**         | IDE集成、快速编辑          | 需要订阅    | 日常开发       | ⭐⭐⭐⭐     |
| **GitHub Copilot** | 代码补全                   | 只能补全    | 写简单函数     | ⭐⭐⭐      |

**V0推荐组合**：

- **主力：Cursor**（日常开发）
- **辅助：Claude Code**（复杂任务、代码审查）

**关键能力**：

- ✅ 会用自然语言描述需求
- ✅ **会验证AI生成的代码**（关键）
- ✅ **会让AI代码通过质量闸门**（测试/格式/类型）
- ✅ 会在AI出错时调试
- ❌ 不能盲目信任AI

------

#### 3.2 质量闸门（新增硬性要求）

**AI产出的代码必须通过**：

bash

~~~bash
# 1. 格式检查
ruff format --check .
# 或
black --check .

# 2. lint检查
ruff check .
# 或
flake8 .

# 3. 类型检查（可选）
mypy app/

# 4. 单元测试（必须）
pytest tests/ --cov --cov-report=term-missing

# 5. 最小安全检查
bandit -r app/ -ll
```

**闸门规则**（V0强制）：
- ✅ pytest覆盖率 ≥ 60%（核心逻辑必须有测试）
- ✅ 格式检查通过（ruff或black）
- ✅ 无明显安全漏洞（bandit检查）
- ❌ 类型检查通过（V0可选，V1强制）

**不通过闸门的代码 = 未交付**

---

#### 3.3 前端最小闸门（V0必须）

**后端闸门**（已有）：
```bash
pytest -q --cov --cov-report=term-missing
ruff format --check .
ruff check .
```

**前端闸门**（新增）：
```bash
# 1. 构建检查（必须）
npm run build
# 作用：验证代码能编译、没有类型错误、没有未使用的导入

# 2. lint检查（推荐）
npm run lint
# 作用：代码风格统一、发现潜在bug

# 3. 依赖安全检查（V0可选，V1强制）
npm audit --production
# 作用：检查生产依赖的高危漏洞
```

**闸门顺序**（推荐）：
```bash
# 本地提交前（pre-commit）
npm run build && npm run lint

# CI/CD（自动化）
npm run build
npm run lint
npm audit --production
pytest
ruff check .
```

**V0最小要求**：
- ✅ `npm run build`必须通过（不通过=代码有错误）
- ✅ `npm run lint`警告可以有，但错误不能有
- 🟡 `npm audit`高危漏洞需要评估（不一定立即修复）

**常见问题**：
- Q: build失败怎么办？
- A: 看错误提示，通常是：导入路径错误、变量未定义、语法错误

- Q: lint警告太多怎么办？
- A: 先修复error级别，warning可以逐步修复

- Q: audit发现漏洞怎么办？
- A: 先看严重程度（critical/high/medium/low），高危优先修复

---

#### 3.4 安全升级意识（新增硬性要求）

**场景**：FastAPI/React/依赖库出安全漏洞公告

**能力要求**：
1. 会看安全公告（GitHub Security Advisory、CVE）
2. 识别受影响版本（poetry show/npm list）
3. 升级依赖（poetry update/npm update）
4. 跑回归测试（pytest/jest）
5. 验证修复（确认漏洞关闭）

**实战训练**：
- 至少处理过1次依赖升级
- 会读changelog/release notes
- 会跑升级前后的对比测试

---

## 三、V0核心能力地图（与项目对齐）

### 能力1：Skill系统开发（V0核心）

**必须会**：
- [ ] 手写产品Skill（YAML格式）
- [ ] 理解准入条件（eligibility）
- [ ] 理解额度计算（amount_calculation）
- [ ] 理解操作符语义（>=, <=, between, table）
- [ ] 会用jsonschema验证Skill
- [ ] 会写Skill的单元测试

**验收标准**：
- 30分钟内独立完成一个产品Skill
- Skill通过格式验证
- 能解释每个字段的含义

---

### 能力2：热更新与回滚（V0核心）

**必须会**：
- [ ] 修改Skill文件
- [ ] 调用reload API
- [ ] 验证热更新生效
- [ ] 查看加载报告（成功/失败数）
- [ ] Git回滚到旧版本
- [ ] 写changelog记录变更

**验收标准**：
- 5分钟内完成一次热更新流程
- 能追踪Skill版本历史
- 能快速回滚错误变更

### 热更新安全规则（V0必须遵守）

**规则1：加载失败保留旧版本**
```python
def reload_skills() -> Dict:
    """热更新Skill配置"""
    try:
        new_skills = load_skills_from_disk()
        validate_all_skills(new_skills)  # 格式校验
        
        # 只有全部成功才替换
        self._skills = new_skills
        return {"status": "success", "loaded": len(new_skills)}
    
    except Exception as e:
        # 失败时保留旧版本，不影响服务
        logger.error(f"Skill加载失败: {e}")
        return {
            "status": "failed",
            "error": str(e),
            "current_version": "保持不变"
        }
```

**规则2：回滚SOP（Standard Operating Procedure）**

**场景**：生产环境热更新后发现问题

**步骤**：
1. Git回滚到上个版本
```bash
   git log --oneline skills/  # 查看历史
   git revert <commit_hash>   # 回滚
```

2. 触发热更新
```bash
   curl -X POST http://api/reload-skills
```

3. 冒烟测试（固定2个样例客户）
```bash
   python tests/smoke_test.py --customer test_customer_A
   python tests/smoke_test.py --customer test_customer_B
```

4. 验证回滚成功
   - 检查匹配结果是否恢复正常
   - 检查审计日志是否有回滚记录

**规则3：禁止在以下情况热更新**
- ❌ 生产高峰期（避免影响用户）
- ❌ 没有回滚准备（必须先确认能回滚）
- ❌ 未经测试环境验证（先在测试环境验证）

**验收标准**：
- [ ] 故意写坏一个Skill，reload后系统仍用旧版本
- [ ] 能在3分钟内完成回滚操作
- [ ] 冒烟测试能快速验证回滚成功

---

### 能力3：质量管控（V0硬性要求）

**必须会**：
- [ ] 写pytest测试用例
- [ ] 运行pytest并看覆盖率
- [ ] 用ruff格式化代码
- [ ] 用bandit检查安全问题
- [ ] 读懂测试失败原因
- [ ] 修复测试失败

**验收标准**：
- 每个功能至少有1个测试用例
- 核心功能测试覆盖率 ≥ 80%
- 所有代码通过格式检查

---

### 能力4：可观测性（V0硬性要求）

**必须会**：
- [ ] 读审计日志（谁做了什么）
- [ ] 追踪API请求（request_id）
- [ ] 查看Skill加载报告
- [ ] 定位匹配失败原因
- [ ] 使用日志排查bug

**验收标准**：
- 10分钟内定位一个bug根因
- 能从日志还原操作时间线
- 能解释为什么匹配失败

### 审计日志最小规范（V0参考）

**日志应该包含什么**（最小字段集）：
```json
{
  "timestamp": "2026-02-12T10:30:45Z",
  "action": "skill_reload",
  "user": "admin@company.com",
  "request_id": "req_abc123",
  "object": "skills/products/PRODUCT_CMB_TAX_001.yaml",
  "version": "1.2.0",
  "result": "success",
  "details": {
    "loaded_count": 20,
    "failed_count": 0
  }
}
```

**关键事件类型**（V0最小集）：
- `skill_reload`：Skill热更新
- `skill_validate_fail`：Skill格式校验失败
- `customer_import`：客户导入
- `product_match`：产品匹配
- `match_result`：匹配结果（成功/失败）

**查询示例**：

**示例1：按request_id回溯完整链路**
```bash
# 查询某次匹配的完整链路
grep "req_abc123" audit.log
```

**示例2：按customer_id查询历史**
```bash
# 查询某客户的所有匹配记录
grep "customer_id=CUST_001" audit.log
```

**示例3：查询最近的Skill变更**
```bash
# 最近1小时的Skill变更
grep "skill_reload" audit.log | tail -20
```

**验收标准**：
- [ ] 审计日志包含上述最小字段
- [ ] 能用request_id追踪完整操作链路
- [ ] 能用customer_id查询历史记录
- [ ] 给定一个「匹配失败」案例，10分钟内用日志解释原因

---

### 能力5：字段口径与单位意识（V0硬性要求）

**背景**：
- DCC2026有13字段SSOT，定义了核心业务字段
- 当前存在单位口径冲突（SSOT定义「万元」，代码示例用「元」）
- 技术员必须有意识避免单位混用导致的严重bug

**必须会**：
- [ ] 知道13字段是哪些（客户档案核心字段）
- [ ] 知道当前存在单位口径冲突
- [ ] 编写代码/Skill时必须明确标注单位
- [ ] 能识别「元/万元混用」的风险

**验收标准**：
- 能列出13字段清单（至少核心8个）
- 能指出哪些字段是金额类（需要单位）
- 代码中明确写出单位注释（如`monthly_revenue: float  # 单位：万元`）
- Skill YAML中明确写出单位（如`description: "月均流水≥10万元"`）

**风险案例**：
```python
# ❌ 错误：单位不明确
if customer.monthly_revenue >= 10:  # 10是10元还是10万元？
    return True

# ✅ 正确：明确单位
if customer.monthly_revenue >= 10:  # 10万元（SSOT单位）
    return True

# ✅ 更好：代码注释+变量命名
# monthly_revenue 单位：万元（对齐SSOT）
if customer.monthly_revenue >= 10:  # 10万元
    return True
```

**面试必问**：
- 「13字段的单位是什么？」
- 「如果SSOT定义是万元，代码示例是元，你会怎么处理？」
- 好答案：先问清楚团队决策，然后统一执行；过渡期明确标注单位

---

## 四、学习路径（2周速成 - V0对齐版）

### Week 1：基础速成 + Skill系统

**Day 1-2：Python + FastAPI**
- [ ] Python基础（变量、函数、类、装饰器）
- [ ] FastAPI入门（路由、请求体、响应模型）
- [ ] SQLAlchemy基础（定义模型、查询）
- [ ] **实战**：完成一个Customer CRUD API

**Day 3-4：React + Ant Design**
- [ ] React基础（组件、Props、Hooks）
- [ ] Ant Design组件（Form、Table、Button）
- [ ] axios调用API
- [ ] **实战**：完成客户导入表单

**Day 5-6：Skill系统核心**
- [ ] YAML语法
- [ ] 理解《Skill格式规范》
- [ ] 写第一个产品Skill
- [ ] **实战**：完成ProductMatcherRunner使用

**Day 7：质量管控**
- [ ] pytest基础（测试用例、fixture、mock）
- [ ] ruff格式化
- [ ] Git workflow（commit、PR、review）
- [ ] **实战**：为Skill写测试用例

---

### Week 2：项目实战（DCC2026 V0简化版）

**核心目标**：能跑通 + 能稳定

#### Week 2 - Part 1：能跑通（Day 8-11）

**Day 8-9：后端核心**
- [ ] 实现ProductMatcherRunner（最小版本）
  - 读取YAML
  - 判断准入条件（支持`>=`, `<=`, `in`）
  - 计算额度（简单表达式）
- [ ] 实现热更新API（POST /reload）
- [ ] **能跑通一个完整流程**：导入客户 → 匹配 → 返回结果

**Day 10-11：前端核心**
- [ ] 客户导入页面（Ant Design Form）
- [ ] 匹配结果展示（Ant Design Table）
- [ ] 基本错误提示
- [ ] **能跑通端到端**：填表 → 提交 → 看结果

**验收标准（Day 11结束）**：
- ✅ 能演示完整流程（导入 → 匹配 → 展示）
- ✅ 能手动测试（至少3个客户案例）
- ✅ 能热更新Skill（修改YAML → reload → 结果变化）

---

#### Week 2 - Part 2：能稳定（Day 12-14）

**Day 12：质量管控**
- [ ] 补充单元测试（覆盖率 ≥ 60%）
- [ ] 单位统一验证（写2个单位陷阱测试）
- [ ] 格式检查通过（ruff或black）
- [ ] 前端build通过

**Day 13：可观测性**
- [ ] 审计日志完整（谁/何时/做了什么）
- [ ] 匹配失败原因清晰（日志可查）
- [ ] reload失败报告（哪些Skill加载失败）

**Day 14：部署与演示**
- [ ] Docker容器化
- [ ] 部署到测试环境
- [ ] 演示给导师
- [ ] 写最小README（如何启动、如何测试）

**验收标准（Day 14结束）**：
- ✅ pytest全绿，覆盖率 ≥ 60%
- ✅ 有单位陷阱测试（防止1万倍错误）
- ✅ 日志可追踪操作记录
- ✅ 能容器化部署

---

#### Week 3-4：上岗后任务（不在2周培训内）

**Week 3任务**（上岗后第1-2周）：
- [ ] 性能测试（100客户批量匹配 <30秒）
- [ ] 异常处理完善（网络错误、超时、数据异常）
- [ ] 前端体验优化（加载状态、错误提示友好）

**Week 4任务**（上岗后第3-4周）：
- [ ] 安全测试（SQL注入、XSS基础防护）
- [ ] 依赖升级（处理1次安全公告）
- [ ] 代码Review能力（能审查同事PR）

**说明**：
- Week 1-2是「培训期」（导师指导）
- Week 3-4是「上岗期」（相对独立，导师监督）
- 性能/安全不在培训期强求，避免样样沾、样样不稳

---

## 五、招聘筛选标准（V0对齐版）

### 5.1 简历初筛

**必备经历**：
- ✅ 有完整项目经验（课程作业/个人项目/实习项目）
- ✅ 用过Python + Web框架（Flask/Django/FastAPI任一）
- ✅ 用过React或Vue
- ✅ 会Git基础操作
- ✅ 用过AI编程工具（Cursor/Copilot/Claude任一）

**加分项**：
- 用过FastAPI + SQLAlchemy
- 用过Ant Design
- 写过技术博客/文档
- 参与过开源项目

**不看的**：
- 学校排名
- GPA
- 算法竞赛成绩

---

### 5.2 面试问题（必问）

**问题1：AI工具使用**
```
Q: 你用AI工具解决过的最复杂问题是什么？
好答案：用Cursor重构了一个模块，并写了测试保证功能不变
差答案：用ChatGPT写了个Hello World
```

**问题2：测试意识**
```
Q: 你写的代码会写测试吗？为什么要写测试？
好答案：会写，因为测试能快速验证功能、防止回归
差答案：不会写，或者"测试是QA的事"
```

**问题3：问题排查**
```
Q: 你的代码出bug了，怎么定位问题？
好答案：看日志、加断点、写小测试复现问题
差答案：盲目改代码、求助别人
```

**问题4：Git使用**
```
Q: 你commit代码前会检查什么？
好答案：跑测试、看diff、确保没提交敏感信息
差答案：直接commit all
~~~

------

### 5.3 实战测试（2小时 - V0真实任务）

**测试环境准备**：

**提供Starter模板**（避免浪费时间搭脚手架）：
```bash
# 克隆模板仓库
git clone https://github.com/dcc2026/skill-starter-kit.git
cd skill-starter-kit

# 安装依赖
poetry install  # 后端
npm install     # 前端

# 验证环境
pytest tests/test_hello.py  # 应该通过
npm run build               # 应该成功
```

**Starter包含什么**：
- FastAPI基础项目结构（已配置好）
- pytest配置文件（已配置好）
- 1个示例Skill（PRODUCT_EXAMPLE_001.yaml）
- 1个示例测试（test_example.py）
- README（如何运行）

**允许使用AI**（明确规则）：
- ✅ 允许：使用Cursor/Claude/Copilot辅助编码
- ✅ 允许：查询文档、搜索资料
- ✅ 要求：必须能解释关键逻辑（不能完全不懂）
- ✅ 要求：测试必须自己设计（AI可以生成代码）

**评分加权**（V0特别强调）：
- 功能完整性：30%
- 测试质量：30%（其中「单位陷阱测试」占10%）
- 代码质量：20%
- 能否解释：20%

---

#### 任务：实现一个简化版产品匹配系统（Skill驱动）

#### 第1部分：Skill编写（40分钟）

**要求**：
1. 创建一个产品Skill（YAML格式）
   - 产品名称：工商银行税贷
   - 至少3个准入条件（流水/纳税/征信）
   - 1个额度计算公式（如`annual_tax * 25`）
   - 明确标注单位（万元或元）
2. 用jsonschema验证Skill格式
3. 写至少1个测试场景（YAML → 预期结果）

**评分**：
- Skill格式正确（YAML语法、必需字段）
- 准入条件合理（有description、有dimension）
- 单位明确标注（不出现歧义）
- 能解释eligibility和amount_calculation的含义

---

#### 第2部分：匹配逻辑实现（60分钟）

**要求**：
1. Python读取YAML
2. 实现准入条件判断（至少支持`>=`, `<=`, `in`操作符）
3. 实现额度计算（表达式求值）
4. 写pytest测试用例：
   - 通过准入的客户（预期：返回额度）
   - 不通过准入的客户（预期：额度0或返回失败原因）
   - 边界值测试（如流水刚好等于阈值）

**评分**：
- 代码能运行
- 至少3个测试用例
- 测试能通过
- 代码有基本注释

---

#### 第3部分：热更新API（20分钟）

**要求**：
1. 实现`POST /reload`接口
2. 返回加载报告（成功/失败数量）
3. 能处理加载失败的情况

**评分**：
- API能调用
- 返回有用信息（不只是「success」）
- 有基本错误处理

---

#### 通过标准（必须全部满足）

- ✅ 2小时内完成基本功能
- ✅ 代码能运行（不报错）
- ✅ 至少3个测试用例且通过
- ✅ 能解释代码逻辑
- ✅ 能指出单位是什么

#### 优秀标准（加分项）

- ✅ Skill格式规范（符合《Skill格式规范》）
- ✅ 测试覆盖边界case
- ✅ 代码有类型提示（如`def func(x: int) -> float`）
- ✅ 代码通过格式检查（ruff或black）
- ✅ 有Git提交记录（commit message清晰）
- ✅ 能指出SSOT单位口径冲突问题

---

#### 评分标准补充

**单位陷阱测试（10分，V0特别加分项）**：
- [ ] 有测试用例验证「万元 vs 元」转换
- [ ] 测试能捕获1万倍计算错误
- [ ] 代码中金额字段有单位注释

**示例**：
```python
def test_unit_conversion():
    """单位陷阱：防止万元/元混用"""
    # Skill阈值：10万元（写成元）
    skill = load_skill("test_product.yaml")
    assert skill.eligibility.conditions[0].value == 100000  # 元
    
    # 客户输入：12万元
    customer = Customer(monthly_revenue=120000)  # 元
    
    # 应该通过（120000 >= 100000）
    assert check_eligibility(customer, skill) == True
```

---

#### 不合格标准（任一即淘汰）

- ❌ 2小时内无法跑通基本功能
- ❌ 没有任何测试用例
- ❌ 无法解释代码逻辑
- ❌ 完全不知道单位是什么
- ❌ 盲目复制AI代码不验证

------

## 六、避坑指南（给技术员的忠告）

### 坑1：追求工具先进性

❌ **错误心态**：我要用最新的Next.js 15 + Tailwind v4 + shadcn

✅ **正确心态**：项目已定React + Ant Design，我先把它用熟

**理由**：

- 工具先进 ≠ 项目合适
- V0目标是跑通，不是炫技
- 学习不匹配的工具 = 浪费时间

------

### 坑2：盲目信任AI

❌ **错误心态**：AI生成的代码一定是对的

✅ **正确心态**：AI代码必须通过质量闸门

**质量闸门**：

1. 代码能运行吗？
2. 有测试吗？
3. 测试通过吗？
4. 格式规范吗？
5. 有明显安全问题吗？

**例子**：

python

```python
# AI生成的代码
def calculate_amount(annual_tax):
    return annual_tax * 30

# 你必须问自己：
# 1. 边界条件处理了吗？（annual_tax=0/None/负数）
# 2. 返回值类型对吗？
# 3. 有单位吗？（元/万元）
# 4. 有测试吗？

# 补充完整版
def calculate_amount(annual_tax: float) -> float:
    """计算预估额度（单位：元）"""
    if annual_tax is None or annual_tax <= 0:
        return 0.0
    return float(annual_tax * 30)

# 测试
def test_calculate_amount():
    assert calculate_amount(10000) == 300000
    assert calculate_amount(0) == 0
    assert calculate_amount(None) == 0
```

------

### 坑3：不写测试

❌ **错误心态**：测试很麻烦，我手动测试就行

✅ **正确心态**：没有测试 = 未交付

**理由**：

- 手动测试不可重复
- 代码改动后无法验证
- 集成测试时会炸

**最小测试要求**（V0硬性）：

- 每个API至少1个测试
- 每个核心函数至少1个测试
- 边界条件必须有测试

------

### 坑4：不看日志/不看文档

❌ **错误心态**：出问题就问人

✅ **正确心态**：先看日志、再看文档、最后问人

**排查顺序**：

1. 看错误日志（90%问题能定位）
2. 看API文档（确认用法）
3. 看代码（理解逻辑）
4. 搜索/问AI（了解原理）
5. 问同事（实在不懂）

------

### 坑5：忽视单位口径

❌ **错误心态**：反正能跑就行，单位无所谓

✅ **正确心态**：单位错误=灾难性bug（1万倍误差）

**真实案例**：
```python
# YAML配置（假设单位是「万元」）
monthly_revenue:
  operator: ">="
  value: 10  # 意思是10万元

# 代码传入（假设传的是「元」）
customer = Customer(
    monthly_revenue=120000  # 意思是12万元
)

# 判断逻辑
if customer.monthly_revenue >= 10:  # 120000 >= 10 ✓ 通过
    # 错误！应该判断 120000元 >= 100000元
    # 但现在判断的是 120000 >= 10
```

**正确做法**：
1. 明确标注单位（代码注释+YAML description）
2. 输入层做单位转换（统一到引擎内部单位）
3. 写测试用例验证（已知输入→预期输出）

**记住**：
- 金额字段必须标注单位
- 不同来源数据必须统一单位
- 测试用例必须包含单位验证

------

## 七、工具清单（V0对齐版）

### 后端开发

bash

```bash
# Python环境
pyenv install 3.11
poetry init

# V0核心依赖（必须）
poetry add fastapi uvicorn[standard]
poetry add sqlalchemy alembic
poetry add pydantic pydantic-settings
poetry add pyyaml jsonschema

# 开发工具（必须）
poetry add --group dev pytest pytest-cov
poetry add --group dev ruff  # 或 black + isort
poetry add --group dev pre-commit

# 安全工具（推荐）
poetry add --group dev bandit

# 可选加速工具
# uv（替代pip/poetry，更快）
curl -LsSf https://astral.sh/uv/install.sh | sh
```

------

### 前端开发

bash

```bash
# 创建React项目（Vite 6）
npm create vite@latest my-app -- --template react

cd my-app

# V0核心依赖（必须）
npm install antd
npm install axios
npm install react-router-dom

# 开发工具
npm install --save-dev @vitejs/plugin-react
```

------

### 开发工具

| 工具               | 用途       | 必须性 |
| ------------------ | ---------- | ------ |
| **VS Code**        | 代码编辑器 | ✅ 必须 |
| **Cursor**         | AI编辑器   | ✅ 推荐 |
| **Docker Desktop** | 容器化     | ✅ 必须 |
| **Postman**        | API测试    | ✅ 必须 |
| **DBeaver**        | 数据库管理 | 🟡 可选 |

------

## 八、验收标准（V0对齐版）

### 验收1：Skill系统能力

-  能在30分钟内独立写一个产品Skill
-  Skill通过jsonschema验证
-  能解释每个字段含义
-  能写Skill的单元测试

### 验收2：热更新能力

-  能修改Skill并热更新
-  能查看加载报告
-  能回滚错误变更
-  能追踪Skill版本历史

### 验收3：质量管控能力

-  pytest覆盖率 ≥ 60%
-  代码通过格式检查
-  代码通过安全检查
-  能读懂测试失败原因

### 验收4：可观测性

-  能从日志定位问题
-  能追踪API请求链路
-  能解释匹配失败原因
-  能快速定位bug根因

### 验收5：安全意识

-  能看懂安全公告
-  能升级依赖
-  能跑回归测试
-  能验证漏洞修复

### 验收6：字段口径意识

**验收内容**：
- [ ] 能列出13字段核心字段（至少8个）
- [ ] 能指出哪些是金额类字段
- [ ] 知道当前存在「万元 vs 元」的口径冲突
- [ ] 代码中明确标注单位（注释或变量命名）
- [ ] Skill YAML中明确标注单位（description字段）
- [ ] 能识别单位混用的风险

**验收方式**：
- 口头提问：「13字段的单位是什么？」
- 代码检查：是否有单位注释
- 实战测试：能否发现单位错误

**不合格标准**：
- 完全不知道单位问题
- 代码中没有任何单位标注
- 无法解释「元 vs 万元」的差异

------

## 九、与"实习生画像v1.0"的核心差异

| 维度          | v1.0（错误版）              | v2.0（修正版）                    |
| ------------- | --------------------------- | --------------------------------- |
| **前端栈**    | Next.js + shadcn + Tailwind | React + Ant Design + Vite         |
| **定位**      | AI增强型全栈                | AI增强 + 质量管控 + 可测试/可审计 |
| **核心能力**  | 会用AI                      | 会用AI + **会让AI代码通过闸门**   |
| **工具选择**  | 追求先进性                  | 对齐项目实际                      |
| **测试要求**  | 可选                        | **硬性要求**                      |
| **安全意识**  | 无                          | **硬性要求**                      |
| **Skill能力** | 未提及                      | **V0核心能力**                    |

------

## 十、长期路线（V1+扩展）

### V1阶段（3-6个月后）

**新增能力**：

- PostgreSQL + Supabase
- Redis缓存
- JWT认证 + partner_id多租户
- TypeScript（类型安全）
- CI/CD（自动化测试+部署）

**可选工具**：

- Next.js（若需要SSR）
- Tailwind/shadcn（若要换UI库）
- Sentry（错误监控）

------

### V2阶段（6-12个月后）

**新增能力**：

- 公众号内容自动化
- MCP集成（AI工具调用）
- 更复杂的LLM workflow
- 微服务拆分

------

## 十一、总结Checklist

### 必备能力（缺一不可）

**基础技能**：

-  Python基础（能看懂、能改、能写）
-  JavaScript基础（能看懂React）
-  Git基础（会提交、会PR）
-  会写pytest
-  会用AI工具（Cursor/Claude Code）

**V0核心技能**：

-  会写Skill（YAML）
-  会热更新
-  会看审计日志
-  会处理依赖升级

**质量管控**：

-  会让AI代码通过闸门
-  测试覆盖率 ≥ 60%
-  代码格式规范
-  无明显安全问题

### 加分项

-  用过FastAPI + SQLAlchemy
-  用过Ant Design
-  写过技术文档
-  参与过开源项目
-  处理过安全漏洞升级

### 不重要的

- ❌ 学校排名
- ❌ GPA
- ❌ 算法竞赛
- ❌ 追求最新工具

-------

## 十二、2人协作建议（可选参考）

**说明**：V0阶段1-2人都可以，但2人协作时建议明确主责模块（可互为备份）。

### 默认分工（可调整）

| 模块 | 主责人 | 备份人 | 说明 |
|------|--------|--------|------|
| **Skill系统** | A | B | YAML编写、格式验证、单测 |
| **ProductMatcherRunner** | A | B | 匹配引擎、热更新API |
| **前端导入** | B | A | 客户导入表单、Ant Design组件 |
| **前端展示** | B | A | 匹配结果展示、错误提示 |
| **测试** | 共同 | - | 互审测试用例、冒烟测试 |
| **审计日志** | A | B | 日志设计、追踪调试 |
| **部署** | 共同 | - | Docker、测试环境部署 |

### 协作规则（最小集）

1. **每日同步**（15分钟）
   - 今天做了什么
   - 遇到什么问题
   - 明天计划做什么

2. **互审PR**（必须）
   - 任何代码合并前必须另一人Review
   - Review重点：逻辑正确、有测试、单位明确

3. **集成测试**（每天结束前）
   - 两人代码合并后跑一次完整流程
   - 确保能跑通（导入 → 匹配 → 展示）

4. **单位口径守门**（共同责任）
   - 任何金额字段代码必须有单位注释
   - PR Review必须检查单位

### 防止"脏活没人做"

**明确责任**：
- 审计日志 → A主责
- 错误体验 → B主责
- 单元测试 → 谁写功能谁写测试
- 集成测试 → 每天轮流

**验收标准**：
- 任何一天结束能跑通一条闭环
- 任何一人请假半天不至于停摆

-------

## 结论

**技术员画像v2.2核心特点**：

1. ✅ **对齐V0实际技术栈**（FastAPI + React + Ant Design）
2. ✅ **强调质量管控**（AI代码必须过闸门，后端+前端）
3. ✅ **强调可测试性**（pytest硬性要求，含单位陷阱测试）
4. ✅ **强调可审计性**（会看日志、会追踪，有最小规范）
5. ✅ **强调安全意识**（会处理依赖升级）
6. ✅ **强调字段口径意识**（单位明确、有决策机制、有过渡方案）
7. ✅ **不追求工具先进性**（够用即可）
8. ✅ **实战导向**（面试测试=Skill驱动的V0真实任务，有Starter模板）
9. ✅ **对齐SSOT**（项目进度追踪器、Skill格式规范、13字段，可对账）
10. ✅ **学习路径现实化**（Week 1-2专注能跑通+能稳定，性能/安全延后）

**可行性评估**：

- 2周培训 → 上手V0开发
- 1-2人 × 2-3个月 → 完成V0闭环
- 质量可控（有测试、有审计、有闸门）
